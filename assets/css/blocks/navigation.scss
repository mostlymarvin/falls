@use "../theme/variables" as var;

// Mixins:
@mixin highlight-menu {
  border-top: 2px solid var(--wp--preset--color--primary) !important;
  display: flex !important;
  opacity: 1;
  left: 0 !important;
  visibility: visible;
  z-index: 9999;
}

@mixin submenu {
  border: none !important;
  flex-direction: row !important;
  min-height: 50px !important;
  left: 0;
  min-width: max-content !important;
  overflow: visible !important;
  top: calc(100% + 26px) !important;
  width: 100% !important;
  z-index: 9999;
  //display: none !important;

  .wp-block-navigation-item__content.wp-block-navigation-item__content {
    color: var(--wp--preset--color--white) !important;
    display: block;
  }
}
  
// Do not show highlight nav background bar on mobile.
.highlight-nav-bar {
  display: none;
}

// Main navigation - spacing between items default
.site-header nav {
  ul>li {
    padding: 0 4px;
  }
}

/* Accessibility: Increase icon size so that the button is easier to click */
.wp-block-navigation__responsive-container-close svg,
.wp-block-navigation__responsive-container-open svg {
  width: 48px;
  height: 48px;
}


// Anything larger than Laptop:
@media all and (min-width: calc(var.$large + 1px)) {

  // Main navigation - spacing between items - increase on larger screens
  .site-header nav {

    ul>li {
      padding: 0 8px;

      &:after {
       @include var.pop-underline;
      }

      &:hover,
      &.current-menu-item {
        color: var( --wp--preset--color--primary );

        ul li a {
          color: var( --wp--preset--color--white ) !important;
        }

        //&:after {
          //width:96%;
          //left:2%;
        //}
        
      }

      ul {
        //@include submenu;

        li:after {
          display:none !important;
        }
      }
    }
  }

  // Display highlight nav bar
  .highlight-nav-bar {
    display: none;
  }

  /*
  // Marketing Communications and Corporate Communications pages have extended menus.
  #Markcom .site-header .wp-block-navigation li.markcom-parent,
  #Corpcom .site-header .wp-block-navigation li.corpcom-parent {

    &:hover,
    &.current-menu-item {
     
      &:after {
        //width: calc( 96% - 70px );
        //left:70px;
        display:none;
      }
      
    }

    color: var(--wp--preset--color--primary) !important;

    ul {
      @include highlight-menu;

      &.wp-block-navigation-submenu:before {
        content: '';
        display: block;
        width: 0px;
        height: 0px;
        border-style: solid;
        border-width: 0 50px 25px 50px;
        border-color: transparent transparent var(--wp--preset--color--primary) transparent;
        transform: rotate(0deg);
        z-index: 999 !important;
        position: absolute;
        bottom: 100%;
        left: 0;
      }
    }
  }

  
  li.markcom-parent .wp-block-navigation__submenu-icon,
  li.corpcom-parent .wp-block-navigation__submenu-icon {
    display:none;
  }

  #Markcom .site-header .wp-block-navigation li.corpcom-parent,
  #Corpcom .site-header .wp-block-navigation li.markcom-parent {

    .wp-block-navigation-submenu {
      display: none !important;
    }
  }*/

}



/* Change the breakpoint for the mobile menu toggle to laptops */
@media (min-width: var.$laptop ) {
  .wp-block-navigation__responsive-container-open:not(.always-shown) {
    display: none !important;
  }

  .wp-block-navigation__responsive-container:not(.hidden-by-default):not(.is-menu-open) {
    display: block !important;
    width: 100%;
    position: relative;
    z-index: auto;
    background-color: inherit;
  }
}

@media (min-width: calc(var.$small + 1px)) {
  .wp-block-navigation__responsive-container-open:not(.always-shown) {
    display: flex;
  }

  .wp-block-navigation__responsive-container:not(.hidden-by-default):not(.is-menu-open) {
    display: none;
  }
}

